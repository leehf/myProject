function e(e){var t,o,n;e=e||!1,t="http://op.yueeyou.com/portal/api/games",n="全部"!==$.trim($(".typeChoose").find(".time .curr").text())?$(".typeChoose").find(".time .curr").text():"",o="全部"!==$.trim($(".typeChoose").find(".type .curr").text())?$(".typeChoose").find(".type .curr").data("id"):"",$.ajax({url:t,type:"get",dataType:"json",data:{category:o,createDate:n,pageNum:a}}).done(function(t){var o;200===t.statusCode&&(t=t.data,a++,o=tppl(document.getElementById("gameList").innerHTML,t),e?$(".gameList").append(o):$(".gameList").html(o),t.games.list.length<10?$(".loadMore").hide():$(".loadMore").show())}).done(function(){$(".download ").each(function(e,t){$(t).find("a").length>0&&$(t).css({"margin-top":-($(t).height()/2)})})}),window.onscroll=function(){var e=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,t=$(".rmyx").offset().top+$(".rmyx").find(".Rgame").height();$("footer").offset().top-40;e-t>0?$(".rmyx").find(".Rgame").addClass("fid"):$(".rmyx").find(".Rgame").removeClass("fid")}}var t,o,a=1;$.ajax({url:"http://op.yueeyou.com/portal/api/gameCategorys",type:"get",dataType:"json"}).done(function(e){if(200==e.statusCode){var e=e.data;t=tppl(document.getElementById("gameType").innerHTML,e),$(".typeChoose").append(t)}}).done(function(){$(".typeChoose").on("click","li",function(){a=1;var t=$(this);t.addClass("curr").siblings().removeClass("curr"),e()})}),$.ajax({url:"http://op.yueeyou.com/portal/api/ad",type:"get",dataType:"json",data:{type:"GAME_HOT_GAME"}}).done(function(e){if(200==e.statusCode){var e=e.data;o=tppl(document.getElementById("hot_game").innerHTML,e),$(".rmyx").append(o)}}),e(),$(".loadMore").on("click",function(){e(!0)});